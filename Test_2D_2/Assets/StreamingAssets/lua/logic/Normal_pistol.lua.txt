local ResourceMgr = require("ResourceManager")

local Normal_pistol=Class("Normal_pistol", require("Weapon_base"))

function Normal_pistol:cotr()

    self.demage = 10
    --- 拥有子弹总数
    self.totalAmmoACount=100
    --- 一弹夹子弹数量
    self.clipsAmmoCount=10
    --- 当前子弹数量
    self.currentAmmoACount=10
    --- 射击冷却时间
    self.shootCDTime =0.5
    --- 装弹时间
    self.reloadTime=1

    self.Type = WeaponType.normal_pistol
end

function Normal_pistol:Shoot()
    local bullet = ResourceMgr:GetGameObject("Prefabs/Bullet")
    local collisionClass = bullet:GetComponent("Collision")
    if collisionClass.CollisionHandle then
        collisionClass.CollisionHandle = collisionClass.CollisionHandle + Normal_pistol.OnCollision
    else
        collisionClass.CollisionHandle = Normal_pistol.OnCollision
    end
end

function Normal_pistol:OnCollision(type, other)
    print("damage")
end

return Normal_pistol